<div class="twelve columns">
{% paginate blog.articles by 5 %}

{% if current_tags %}
<h1>{{ blog.title | link_to: blog.url }} &raquo; {{ current_tags.first }}</h1>
{% else %}
<h1>{{ blog.title }}</h1>
{% endif %}

<ul>

  {% for article in blog.articles %}
  <li class="blog-article{% if forloop.first %} first{% endif %}{% if forloop.last %} last{% endif %}">
    <h2 class="blog-article-title">
      <a href="{{ article.url }}">{{ article.title }}</a>
    </h2>
    <h3 class="blog-article-date">
      <time pubdate datetime="{{ article.published_at | date: '%Y-%m-%d' }}">{{ article.published_at | date: '%b %d, %Y' }}</time>
    </h3>
    <div class="rte">
      {% if article.excerpt.size > 0 %}
        {{ article.excerpt }}
      {% else %}
        <p>{{ article.content | strip_html | truncatewords: 100 }}</p>
      {% endif %}
    </div>
    <a class="blog-read-more" href="{{ article.url }}">Read more â†’</a>
    <ul class="blog-article-meta">
      {% if blog.comments_enabled? %}
      <li class="blog-article-meta-comments">
        <a href="{{ article.url }}#comments">{{ article.comments_count }} {{ article.comments_count | pluralize: 'comment','comments' }}</a>
      </li>
      {% endif %}
      {% if article.tags.size > 0 %}
      <li class="blog-article-meta-tags">
        <span>Filed under</span>
        {% for tag in article.tags %} 
        <a href="{{ blog.url }}/tagged/{{ tag | handle }}">{{ tag }}</a>{% unless forloop.last %}, {% endunless %}
        {% endfor %}
      </li>
      {% endif %}
    </ul>
  </li>
  {% endfor %}

</ul>
  
{% if paginate.pages > 1 %}
<div id="pagination">
  {% comment %}
  When paginating blog articles, a previous article is actually a newer article, not an older one,
  because blog articles are shown and paginated in a reversed chronological order.
  The word 'previous' can be confusing, hence we'll change it.
  {% endcomment %}
  {{ paginate | default_pagination | replace: 'Previous', 'Newer articles' | replace: 'Next', 'Older articles' }}
</div>
{% endif %}

{% endpaginate %}

</div>

<div class="four columns">
  {% comment %} 

  Edit the 2 values right below: what's your blog handle and how many articles do you want to show?

  {% endcomment %}

  {% assign your_blog_handle_here = 'sellwood-cycle-repair' %}
  {% assign how_many_articles_to_show = 5 %}

  <!-- START OF LATEST BLOG POSTS -->
  <div class="widget" id="widget-latest-blog-posts">
    <div class="widget-header">
      <h3>Latest Blog Posts</h3>
    </div>

    <div class="latest-blog-posts-wrapper">

      <ul class="latest-blog-posts-list">
        {% for article in blogs[your_blog_handle_here].articles limit: how_many_articles_to_show %}
        <li>{{ article.title | link_to: article.url }}</li>
        {% endfor %}
      </ul>
    </div>
  </div>

  {% if blog.all_tags != blank %}
    <h2>Categories</h2>
    <ul>
      {% for tag in blog.all_tags %}
        <li>
        <a href="{{ shop.url}}/blogs/{{ blog.handle }}/tagged/{{ tag | handelize }}">{{ tag }}</a>
        </li>
      {% endfor %}
    </ul>
  {% endif %}
</div>

<div class="clear"></div>
